"use strict";Element.prototype.isNodeList=function(){return false};NodeList.prototype.isNodeList=HTMLCollection.prototype.isNodeList=function(){return true};if(Trustindex===undefined){var Trustindex=function(){return{loaded_css:[],loaded_rich_snippet:false,resizerTimeoutPointer:null,init:function(){let scripts=document.querySelectorAll("div[src*='.trustindex.io'],script[src*='.trustindex.io']");for(let i=0;i<scripts.length;i++){if(scripts[i].getAttribute("src").search("loader")==-1){continue}let script_tag=scripts[i];let key=scripts[i].getAttribute("src").split("?");if(key.length<2){continue}key=key[key.length-1];key=key.split("#").pop();key=key.split("&")[0];if(!key||key.search("=")!=-1){continue}if(script_tag.getAttribute("data-ti-loaded")){continue}script_tag.insertAdjacentHTML("afterend","<div>loading...</div>");script_tag.setAttribute("data-ti-loaded",true);let http=new XMLHttpRequest();http.open("GET","https://cdn.trustindex.io/widgets/"+key.substring(0,2)+"/"+key+"/content.html");http.send();http.onload=function(){if(http.readyState==4&&http.status==200){let html=http.responseText;script_tag.nextSibling.remove();script_tag.insertAdjacentHTML("afterend",html);let widget=script_tag.nextSibling;Trustindex.init_widget(widget);if(!widget.layout_id){script_tag.nextSibling.innerHTML="Layout id not found!";return}if(!widget.container){script_tag.nextSibling.innerHTML="Container id not found!";return}let css_url=null;if(widget.set_id||widget.pid){if(html.indexOf("<style class='scss-content'>")==-1){css_url="https://cdn.trustindex.io/assets/widget-presetted-css/"+widget.layout_id+"-"+widget.set_id+".css"}}else{css_url="https://cdn.trustindex.io/widget-assets/css/"+widget.layout_id+"-"+(widget.classList.contains("ti-dark")?"blue-dark":"blue")+".css"}if(css_url){if(Trustindex.loaded_css.indexOf(css_url)==-1){Trustindex.addCSS(css_url);Trustindex.loaded_css.push(css_url)}}Trustindex.formatReviews();Trustindex.resize_widget(widget);Trustindex.init_pager(widget);Trustindex.replaceErrorImages()}else{script_tag.nextSibling.innerHTML="Widget not found!"}}}Trustindex.formatReviews();Trustindex.replaceErrorImages();Trustindex.resize_widgets();window.addEventListener("resize",function(){clearTimeout(Trustindex.resizerTimeoutPointer);Trustindex.resizerTimeoutPointer=setTimeout(function(){Trustindex.resize_widgets()},1000)})},init_widget:function(a){a.layout_id=a.getAttribute("data-layout-id");a.set_id=a.getAttribute("data-set-id");a.pid=a.getAttribute("data-pid");if(a.layout_id){a.layout_id=parseInt(a.layout_id)}a.container=a.querySelector(".ti-widget-container");a.wrapper=a.querySelector(".ti-reviews-container-wrapper");a.pager_autoplay_timeout=a.getAttribute("data-pager-autoplay-timeout");a.mouse_over=false},init_dots:function(a){let dot_container=a.querySelector(".ti-controls-dots");if(dot_container){if(!a.container.classList.contains("ti-col-1")){Trustindex.toggleElement(dot_container,"hide")}else{let html="",length=a.querySelectorAll(".ti-review-item").length;for(let di=0;di<length;di++){html+='<div class="dot" data-pager-state="'+di+'"></div> '}dot_container.innerHTML=html;Trustindex.toggleElement(dot_container);dot_container.querySelector(".dot").classList.add("active")}}},init_pager:function(a){if(window.jQuery&&a instanceof jQuery){a.each(function(){Trustindex.init_pager(this)});return}if(a.isNodeList!==undefined&&a.isNodeList()){a.forEach(function(b){Trustindex.init_pager(b)});return}if(a.layout_id===undefined){Trustindex.init_widget(a)}Trustindex.init_dots(a);if(a.pager_autoplay_timeout!==null){a.pager_state=0;a.pager_moving=false;a.pager_autoplay_direction="next";a.pager_position="0px";Trustindex.controlsShowHide(a);a.querySelectorAll(".ti-review-item").forEach(function(b){b.style.position="relative"});a.querySelector(".ti-widget-container").addEventListener("mouseenter",function(b){a.mouse_over=true});a.querySelector(".ti-widget-container").addEventListener("mouseleave",function(b){a.mouse_over=false});a.addEventListener("click",function(b){if(b.target.matches(".ti-controls .ti-next")||b.target.matches(".ti-controls .ti-prev")){b.preventDefault();Trustindex.moverBtnClicked(a,b.target.classList.contains("ti-next"),"manual",500)}if(b.target.matches(".ti-controls-dots .dot")){b.preventDefault();Trustindex.moveReviews(a,parseInt(b.target.getAttribute("data-pager-state")),"manual",500)}},false);if(a.pager_autoplay_timeout){a.intervalPointer=setInterval(function(){Trustindex.moverBtnClicked(a,a.pager_autoplay_direction=="next","auto")},parseInt(a.pager_autoplay_timeout)*1000)}let touchstartx,touchmovex;a.addEventListener("touchstart",function(b){touchstartx=b.touches[0].pageX;touchmovex=null;a.mouse_over=true;e.preventDefault()});a.addEventListener("touchmove",function(b){touchmovex=b.touches[0].pageX;e.preventDefault()});a.addEventListener("touchend",function(b){if(touchstartx&&touchmovex&&Math.abs(touchstartx-touchmovex)>60){let direction=touchstartx>touchmovex;if(direction&&a.isNext){Trustindex.moverBtnClicked(a,direction,"manual",500)}else{if(!direction&&a.isPrev){Trustindex.moverBtnClicked(a,direction,"manual",500)}}}touchstartx=null;touchmovex=null;a.mouse_over=false;e.preventDefault()})}let disable_button=a.querySelector(".disable-widget");if(disable_button){disable_button.addEventListener("click",function(){a.remove()},false)}},moverBtnClicked:function(c,d,a,b){if(c.pager_moving||(c.mouse_over&&a=="auto")){return false}else{let num_reviews=c.querySelectorAll(".ti-review-item").length;let num_visible_reviews=Trustindex.getVisibleReviewNum(c);if(num_reviews<=num_visible_reviews){return false}}let direction=d?1:-1;Trustindex.moveReviews(c,c.pager_state+direction,a,b)},moveReviews:function(d,c,a,b){d.pager_state=c;d.pager_moving=true;Trustindex.controlsShowHide(d);Trustindex.slideReviews(d,b);if(a!="auto"&&d.intervalPointer!==undefined){clearInterval(d.intervalPointer);delete d.intervalPointer}},slideReviews:function(b,a){if(b.pager_position===undefined){return}if(a===undefined){a=1000}let num_visible_reviews=Trustindex.getVisibleReviewNum(b);let rotate_left=(-1*b.pager_state*b.wrapper.offsetWidth/num_visible_reviews)+"px";b.querySelectorAll(".ti-review-item").forEach(function(c){c.animate({left:[b.pager_position,rotate_left]},{duration:a,fill:"both",easing:"ease-in-out"})});b.pager_position=rotate_left;setTimeout(function(){b.pager_moving=false},a)},formatReviews:function(){let svg_good='<svg style="display: inline-block; vertical-align: sub;fill: #0ab21b;position:relative;top:-2px" viewBox="0 0 128 128"><path d="M64 8a56 56 0 1 0 56 56A56 56 0 0 0 64 8zm0 104a48 48 0 1 1 48-48 48 48 0 0 1-48 48zM44 64a8 8 0 1 1 8-8 8 8 0 0 1-8 8zm48-8a8 8 0 1 1-8-8 8 8 0 0 1 8 8zm-4.8 21.6a4 4 0 0 1 .6 3.6A24.3 24.3 0 0 1 64 97c-9.7 0-15.7-4.2-19-7.8a22.7 22.7 0 0 1-4.8-8A4 4 0 0 1 44 76h40a4 4 0 0 1 3.2 1.6z"></path></svg>';let svg_bad='<svg style="display: inline-block; vertical-align: sub;fill: #383838;margin-top: -1px;position:relative;top:-2px" viewBox="0 0 128 128"><path d="M64 8a56 56 0 1 0 56 56A56 56 0 0 0 64 8zm0 104a48 48 0 1 1 48-48 48 48 0 0 1-48 48zM44 64a8 8 0 1 1 8-8 8 8 0 0 1-8 8zm48-8a8 8 0 1 1-8-8 8 8 0 0 1 8 8zm-5.2 30.2a4 4 0 1 1-5.6 5.6c-10.5-10.4-24-10.4-34.4 0a4 4 0 0 1-5.6-5.6c13.6-13.7 32-13.7 45.6 0z"></path></svg>';let reviews=document.querySelectorAll(".ti-widget .ti-review-content, .ti-widget .inner .ti-review-text");if(reviews&&reviews.length){reviews.forEach(function(a){let inner=a.querySelector(".inner");if(inner){a=inner}let svgs=a.querySelectorAll("svg");if(svgs.length==0){let html=a.innerHTML;html=html.replace(/<img.+class="emoji" alt="☺" src="[^'"]+">/gm,svg_good+"&nbsp;&middot;&nbsp;");html=html.replace(/<img.+class="emoji" alt="☹" src="[^'"]+">/gm,svg_bad+"&nbsp;&middot;&nbsp;");html=html.replace("☺",svg_good+"&nbsp;&middot;&nbsp;").replace("☹",svg_bad+"&nbsp;&middot;&nbsp;");html=html.replace(/\n/g,"<br />");a.innerHTML=html;svgs=a.querySelectorAll("svg")}if(svgs.length){let size=parseInt(a.style.fontSize||14)*0.95;svgs.forEach(function(b){b.style.width=size+"px";b.style.height=size+"px"})}a.innerHTML=Trustindex.decodeHtml(a.innerHTML)})}},defaultAvatarUrl:"https://cdn.trustindex.io/widget-assets/default-tripadvisor-reviewer.gif",replaceErrorImages:function(){let images=document.querySelectorAll(".ti-widget .ti-review-item .ti-profile-img img");if(images&&images.length){images.forEach(function(a){if(!a.complete){a.addEventListener("error",function(){this.setAttribute("src",Trustindex.defaultAvatarUrl)})}else{if(a.naturalWidth===undefined||a.naturalWidth==0){a.setAttribute("src",Trustindex.defaultAvatarUrl)}}})}},controlsShowHide:function(a){let num_reviews=a.querySelectorAll(".ti-review-item").length;let num_visible_reviews=Trustindex.getVisibleReviewNum(a);a.isPrev=true;a.isNext=true;if(a.pager_state==0){Trustindex.toggleElement(a.querySelector(".ti-prev"),"hide");a.pager_autoplay_direction="next";a.isPrev=false}else{Trustindex.toggleElement(a.querySelector(".ti-prev"))}if(a.pager_state>=num_reviews-num_visible_reviews){Trustindex.toggleElement(a.querySelector(".ti-next"),"hide");a.pager_autoplay_direction="prev";a.isNext=false}else{Trustindex.toggleElement(a.querySelector(".ti-next"))}a.querySelectorAll(".dot").forEach(function(b){b.classList.remove("active")});let el=a.querySelector('.dot[data-pager-state="'+a.pager_state+'"]');if(el){el.classList.add("active")}},resize_widget:function(a){if(a.layout_id===undefined){Trustindex.init_widget(a)}if(a.layout_id==5||a.layout_id==13){if(a.offsetWidth<520){a.container.setAttribute("class","ti-widget-container ti-col-1")}else{if(a.offsetWidth<750){a.container.setAttribute("class","ti-widget-container ti-col-2")}else{if(a.offsetWidth<1160){a.container.setAttribute("class","ti-widget-container ti-col-3")}else{a.container.setAttribute("class","ti-widget-container ti-col-4")}}}}else{if(a.layout_id==4||a.layout_id==15||a.layout_id==16){if(a.offsetWidth<540){a.container.setAttribute("class","ti-widget-container ti-col-1")}else{if(a.offsetWidth<760){a.container.setAttribute("class","ti-widget-container ti-col-2")}else{a.container.setAttribute("class","ti-widget-container ti-col-3")}}}}Trustindex.init_dots(a);Trustindex.slideReviews(a)},resize_widgets:function(){document.querySelectorAll(".ti-widget").forEach(function(a){Trustindex.resize_widget(a)})},decodeHtml:function(b){var a=document.createElement("textarea");a.innerHTML=b;return a.value},toggleElement:function(b,a){if(a===undefined){a="show"}if(b){b.style.display=a=="show"?"block":"none"}},getVisibleReviewNum:function(c){var b=parseInt(c.container.classList.toString().replace(/^.*ti-col-(\d+).*$/,"$1"));var a=(c.layout_id==5||c.layout_id==13)?1:0;b-=a;return Math.max(b,1)},addCSS:function(a){let link=document.createElement("link");link.type="text/css";link.rel="stylesheet";link.href=a;document.head.appendChild(link)}}}();Trustindex.init()}else{Trustindex.init()};